<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular.min.js"></script>

    <script src="js/module.js"></script>
    <script src="js/table-controller.js"></script>
    <script src="js/my-add-element-form.js"></script>
    <script src="js/arr-elems.js"></script>
    <script src="lib/is-origin.js"></script>

    <link href="resources/style.css" type="text/css" rel="stylesheet">
</head>
<body ng-app="app">
<h1>Products management page</h1>
<div ng-controller="TableController as ctrl" ng-init="mainObj.showForm = false" >
    <div ng-include="'resources/form.html'" ng-if="mainObj.showForm" ng-controller="AddElemController"></div>
    <table>
        <thead>
        <tr>
            <th>Title</th>
            <th>Sku</th>
            <th>Price</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="row in list">
            <td>{{ row.title }}</td>
            <td>{{ row.sku }}</td>
            <td>{{ row.price | currency }}</td>
            <td>
                <button class="edit" ng-click="showElementForm('edit', $index)">edit</button>
                <button class="delete" ng-click="deleteElement($index)">delete</button>
            </td>
        </tr>
        </tbody>
    </table>
    <button class="add" ng-click="showElementForm('add')">add</button>
    <button class="to-JSON" ng-init="mainObj.showJson = false" ng-click="mainObj.showJson = !mainObj.showJson">to-JSON</button>
    <pre ng-show="mainObj.showJson"> {{ list | json }} </pre>
</div>
</body>
</html>